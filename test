import json

def remove_arrays_by_key(json_data, key_to_remove):
    if isinstance(json_data, list):
        for item in json_data:
            remove_arrays_by_key(item, key_to_remove)
    elif isinstance(json_data, dict):
        if key_to_remove in json_data:
            del json_data[key_to_remove]
        for value in json_data.values():
            remove_arrays_by_key(value, key_to_remove)

def main():
    # Replace 'your_file.json' with the path to your JSON file
    file_path = 'pot.json'

    # Replace 'your_key' with the key you want to search for
    key_to_remove = '__name__'

    try:
        with open(file_path, 'r') as file:
            json_data = json.load(file)

        remove_arrays_by_key(json_data, key_to_remove)

        with open(file_path, 'w') as file:
            json.dump(json_data, file, indent=2)

        print(f"Arrays with key '{key_to_remove}' have been removed.")

    except FileNotFoundError:
        print(f"File '{file_path}' not found.")
    except json.JSONDecodeError:
        print(f"Error decoding JSON in '{file_path}'.")

if __name__ == "__main__":
    main()
